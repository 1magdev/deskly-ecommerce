{
  "info": {
    "name": "Deskly E-commerce API",
    "description": "Documentação completa da API do Deskly E-commerce - Organizada por workflows",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080",
      "type": "string"
    },
    {
      "key": "token",
      "value": "seu_token_aqui",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "01 - Autenticação",
      "description": "Endpoints de autenticação (Login e Registro)",
      "item": [
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@deskly.com\",\n  \"password\": \"senha123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            },
            "description": "Autentica um usuário e retorna um token JWT"
          }
        },
        {
          "name": "Registrar",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullname\": \"João Silva\",\n  \"email\": \"joao@example.com\",\n  \"cpf\": \"12345678900\",\n  \"password\": \"senha123\",\n  \"confirmPassword\": \"senha123\",\n  \"role\": \"CUSTOMER\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "register"]
            },
            "description": "Registra um novo usuário (CUSTOMER) e retorna token JWT"
          }
        }
      ]
    },
    {
      "name": "02 - Catálogo (Público)",
      "description": "Endpoints públicos para visualização de produtos",
      "item": [
        {
          "name": "Listar Produtos",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/catalog/products?search=cadeira&category=CHAIRS&page=0&size=10",
              "host": ["{{baseUrl}}"],
              "path": ["catalog", "products"],
              "query": [
                {
                  "key": "search",
                  "value": "cadeira"
                },
                {
                  "key": "category",
                  "value": "CHAIRS"
                },
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "10"
                }
              ]
            },
            "description": "Lista produtos ativos do catálogo com filtros"
          }
        },
        {
          "name": "Detalhes do Produto",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/catalog/products/1",
              "host": ["{{baseUrl}}"],
              "path": ["catalog", "products", "1"]
            },
            "description": "Obtém detalhes de um produto específico"
          }
        }
      ]
    },
    {
      "name": "03 - Carrinho",
      "description": "Gerenciamento do carrinho de compras",
      "item": [
        {
          "name": "Adicionar ao Carrinho",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"productId\": 1\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/cart/add",
              "host": ["{{baseUrl}}"],
              "path": ["cart", "add"]
            },
            "description": "Adiciona um produto ao carrinho (aumenta quantidade se já existir) - Requer autenticação"
          }
        },
        {
          "name": "Ver Carrinho",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/cart",
              "host": ["{{baseUrl}}"],
              "path": ["cart"]
            },
            "description": "Retorna o carrinho atual do usuário - Requer autenticação"
          }
        },
        {
          "name": "Diminuir Quantidade",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/cart/decrease/1",
              "host": ["{{baseUrl}}"],
              "path": ["cart", "decrease", "1"]
            },
            "description": "Diminui a quantidade de um item no carrinho (remove se quantidade = 1) - Requer autenticação"
          }
        },
        {
          "name": "Remover Item",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/cart/1",
              "host": ["{{baseUrl}}"],
              "path": ["cart", "1"]
            },
            "description": "Remove um item completamente do carrinho - Requer autenticação"
          }
        }
      ]
    },
    {
      "name": "04 - Pedidos",
      "description": "Gerenciamento de pedidos do cliente",
      "item": [
        {
          "name": "Criar Pedido",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"shippingValue\": 15.00,\n  \"addressId\": 1,\n  \"items\": [\n    {\n      \"productId\": 1,\n      \"quantity\": 2\n    },\n    {\n      \"productId\": 3,\n      \"quantity\": 1\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/orders",
              "host": ["{{baseUrl}}"],
              "path": ["orders"]
            },
            "description": "Cria um novo pedido - Requer autenticação"
          }
        },
        {
          "name": "Listar Meus Pedidos",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/orders",
              "host": ["{{baseUrl}}"],
              "path": ["orders"]
            },
            "description": "Lista todos os pedidos do cliente autenticado (ordenados por data) - Requer autenticação"
          }
        },
        {
          "name": "Detalhes do Pedido",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/orders/1",
              "host": ["{{baseUrl}}"],
              "path": ["orders", "1"]
            },
            "description": "Obtém detalhes de um pedido específico - Requer autenticação"
          }
        }
      ]
    },
    {
      "name": "05 - Endereços",
      "description": "Gerenciamento de endereços do usuário",
      "item": [
        {
          "name": "Listar Endereços",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/addresses",
              "host": ["{{baseUrl}}"],
              "path": ["addresses"]
            },
            "description": "Lista todos os endereços do usuário"
          }
        },
        {
          "name": "Criar Endereço",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"label\": \"Casa\",\n  \"street\": \"Rua das Flores\",\n  \"number\": \"123\",\n  \"complement\": \"Apto 45\",\n  \"district\": \"Centro\",\n  \"city\": \"São Paulo\",\n  \"state\": \"SP\",\n  \"zipCode\": \"01234567\",\n  \"deliveryAddress\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/addresses",
              "host": ["{{baseUrl}}"],
              "path": ["addresses"]
            },
            "description": "Cria um novo endereço"
          }
        },
        {
          "name": "Atualizar Endereço",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"label\": \"Trabalho\",\n  \"street\": \"Rua Nova\",\n  \"number\": \"456\",\n  \"complement\": \"Sala 10\",\n  \"district\": \"Jardins\",\n  \"city\": \"São Paulo\",\n  \"state\": \"SP\",\n  \"zipCode\": \"01234999\",\n  \"deliveryAddress\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/addresses/1",
              "host": ["{{baseUrl}}"],
              "path": ["addresses", "1"]
            },
            "description": "Atualiza um endereço existente"
          }
        },
        {
          "name": "Deletar Endereço",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/addresses/1",
              "host": ["{{baseUrl}}"],
              "path": ["addresses", "1"]
            },
            "description": "Remove um endereço"
          }
        }
      ]
    },
    {
      "name": "06 - Perfil do Usuário",
      "description": "Visualização do perfil do usuário autenticado",
      "item": [
        {
          "name": "Meu Perfil",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/profile",
              "host": ["{{baseUrl}}"],
              "path": ["users", "profile"]
            },
            "description": "Retorna dados do usuário autenticado"
          }
        }
      ]
    },
    {
      "name": "07 - Produtos (Admin/Backoffice)",
      "description": "CRUD de produtos - Requer permissão ADMIN ou BACKOFFICE",
      "item": [
        {
          "name": "Criar Produto",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Cadeira Gamer Pro\",\n  \"description\": \"Cadeira ergonômica para gamers profissionais\",\n  \"category\": \"CHAIRS\",\n  \"price\": 1299.90,\n  \"rating\": 4.5,\n  \"quantity\": 50,\n  \"images\": [\n    \"data:image/jpeg;base64,/9j/4AAQSkZJRg...\",\n    \"data:image/jpeg;base64,/9j/4BBRSkZJRg...\",\n    \"data:image/jpeg;base64,/9j/4CCSSkZJRg...\"\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/products",
              "host": ["{{baseUrl}}"],
              "path": ["products"]
            },
            "description": "Cria um novo produto (Admin/Backoffice)"
          }
        },
        {
          "name": "Listar Produtos",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/products?search=cadeira&page=0&size=10",
              "host": ["{{baseUrl}}"],
              "path": ["products"],
              "query": [
                {
                  "key": "search",
                  "value": "cadeira"
                },
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "10"
                }
              ]
            },
            "description": "Lista todos os produtos (com paginação)"
          }
        },
        {
          "name": "Obter Produto",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/products/1",
              "host": ["{{baseUrl}}"],
              "path": ["products", "1"]
            },
            "description": "Obtém detalhes de um produto específico"
          }
        },
        {
          "name": "Atualizar Produto",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Cadeira Gamer Pro Max\",\n  \"description\": \"Cadeira ergonômica premium\",\n  \"category\": \"CHAIRS\",\n  \"price\": 1499.90,\n  \"rating\": 5.0,\n  \"quantity\": 30,\n  \"images\": [\n    \"data:image/jpeg;base64,/9j/4AAQSkZJRg...\",\n    \"data:image/jpeg;base64,/9j/4BBRSkZJRg...\"\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/products/1",
              "host": ["{{baseUrl}}"],
              "path": ["products", "1"]
            },
            "description": "Atualiza um produto existente"
          }
        },
        {
          "name": "Ativar/Desativar Produto",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/products/1/status?active=true",
              "host": ["{{baseUrl}}"],
              "path": ["products", "1", "status"],
              "query": [
                {
                  "key": "active",
                  "value": "true"
                }
              ]
            },
            "description": "Alterna o status de ativo/inativo do produto"
          }
        },
        {
          "name": "Deletar Produto",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/products/1",
              "host": ["{{baseUrl}}"],
              "path": ["products", "1"]
            },
            "description": "Remove um produto do sistema"
          }
        }
      ]
    },
    {
      "name": "08 - Usuários (Admin/Backoffice)",
      "description": "Gerenciamento de usuários - Requer permissão ADMIN ou BACKOFFICE",
      "item": [
        {
          "name": "Criar Usuário",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullname\": \"Maria Santos\",\n  \"email\": \"maria@example.com\",\n  \"cpf\": \"98765432100\",\n  \"password\": \"senha123\",\n  \"confirmPassword\": \"senha123\",\n  \"role\": \"BACKOFFICE\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users",
              "host": ["{{baseUrl}}"],
              "path": ["users"]
            },
            "description": "Cria um novo usuário (Admin/Backoffice)"
          }
        },
        {
          "name": "Listar Usuários por Role",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/all/CUSTOMER",
              "host": ["{{baseUrl}}"],
              "path": ["users", "all", "CUSTOMER"]
            },
            "description": "Lista usuários filtrados por role (CUSTOMER, ADMIN, BACKOFFICE)"
          }
        },
        {
          "name": "Obter Usuário",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/1",
              "host": ["{{baseUrl}}"],
              "path": ["users", "1"]
            },
            "description": "Obtém dados de um usuário específico"
          }
        },
        {
          "name": "Atualizar Usuário",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullname\": \"Maria Santos Silva\",\n  \"email\": \"maria.silva@example.com\",\n  \"cpf\": \"98765432100\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/1",
              "host": ["{{baseUrl}}"],
              "path": ["users", "1"]
            },
            "description": "Atualiza dados de um usuário"
          }
        },
        {
          "name": "Ativar/Desativar Usuário",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/1/status?active=true",
              "host": ["{{baseUrl}}"],
              "path": ["users", "1", "status"],
              "query": [
                {
                  "key": "active",
                  "value": "true"
                }
              ]
            },
            "description": "Alterna o status de ativo/inativo do usuário"
          }
        }
      ]
    }
  ]
}
